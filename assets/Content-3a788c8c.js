import{r as y,b as k,o as i,d as h,w as $,e as b,f as e,u as l,i as g,N as f,t as c,c as r,g as _,h as C,j as N,k as p,l as x,F as w,m as B,a as V,n as D}from"./index-5b889531.js";const F={alt:"",class:"main__content-list-item-img"},O={class:"main__content-list-item-name"},T={__name:"ContentItem",props:["item","type"],setup(t){return(a,s)=>{const n=y("router-link"),o=k("lazy");return i(),h(n,{to:t.type+"/"+t.item.id,class:"main__content-list-item"},{default:$(()=>[b(e("img",F,null,512),[[o,t.item.backdrop_path?l(g)+t.item.backdrop_path:t.item.poster_path?l(g)+t.item.poster_path:l(f)]]),e("h2",O,c(t.item.name||t.item.title),1)]),_:1},8,["to"])}}},z={class:"pagination"},S=["disabled"],j={class:"pagination__page"},q=e("h4",null,"Страница",-1),E=e("span",{class:"pagination__slash"},"/",-1),H=["disabled"],I={__name:"Pagination",props:["currentPage","totalPages"],setup(t){return(a,s)=>(i(),r("div",z,[e("button",{onClick:s[0]||(s[0]=n=>a.$emit("page",t.currentPage-1)),disabled:t.currentPage==1,class:"pagination__btn"}," prev ",8,S),e("div",j,[q,e("span",null,[_(c(t.currentPage)+" ",1),E,_(" "+c(t.totalPages),1)])]),e("button",{onClick:s[1]||(s[1]=n=>a.$emit("page",t.currentPage+1)),disabled:t.currentPage==t.totalPages,class:"pagination__btn"}," next ",8,H)]))}},L={key:0,class:"container"},M={class:"main__content"},R={class:"main__content-title"},U={class:"main__content-list"},J={__name:"Content",props:["type"],setup(t){const a=t,s=C(),n=N(),o=p(1),v=p(500);n.getPopular({type:a.type,page:1});const u=x(()=>a.type=="movie"?n.popularMovies:n.popularTvs),P=async m=>{o.value=m,await n.getPopular({type:a.type,page:o.value}),s.push({name:a.type,query:{page:o.value}})};return(m,A)=>u.value?(i(),r("div",L,[e("div",M,[e("h2",R,c(t.type=="movie"?"Все фильмы":"Все сериалы"),1),e("div",U,[(i(!0),r(w,null,B(u.value,d=>(i(),h(T,{key:d.id,item:d,type:t.type},null,8,["item","type"]))),128))]),V(I,{currentPage:o.value,totalPages:v.value,onPage:P},null,8,["currentPage","totalPages"])])])):D("",!0)}};export{J as _};
